---
/**
 * BreadcrumbNav â€” Breadcrumb navigation with schema.org BreadcrumbList
 * Theme-aware: uses CSS custom properties
 */
interface BreadcrumbItem {
  label: string;
  href?: string;
}

interface Props {
  items: BreadcrumbItem[];
}

const { items } = Astro.props;

const structuredData = JSON.stringify({
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: items.map((item, index) => ({
    '@type': 'ListItem',
    position: index + 1,
    name: item.label,
    ...(item.href ? { item: item.href } : {}),
  })),
});
---

<nav class="px-6 py-6 max-w-7xl mx-auto flex items-center gap-2 text-[10px] font-black uppercase tracking-widest" style="color: var(--text-tertiary);">
  {items.map((item, i) => (
    <>
      {i > 0 && <span style="color: var(--text-tertiary); opacity: 0.5;">/</span>}
      {item.href ? (
        <a href={item.href} class="hover-text-primary transition-colors">{item.label}</a>
      ) : (
        <span style="color: var(--accent-primary);">{item.label}</span>
      )}
    </>
  ))}
</nav>

<script type="application/ld+json" set:html={structuredData} />
