---
/**
 * ExploreByBlock — Internal link blocks for cross-navigation
 * Theme-aware: uses CSS custom properties
 */
interface LinkColumn {
  title: string;
  number?: string;
  links: { label: string; href: string }[];
}

interface Props {
  headline?: string;
  subtitle?: string;
  columns: LinkColumn[];
  /** Variant: 'light' uses accent bg, 'dark' uses standard bg */
  variant?: 'light' | 'dark';
}

const {
  headline = 'OPTIMIZE YOUR STACK',
  subtitle = 'System Cross-Referencing',
  columns,
  variant = 'light',
} = Astro.props;
---

{variant === 'light' ? (
  <section style="background-color: var(--bg-secondary); color: var(--text-primary);" class="py-24">
    <div class="px-6 max-w-7xl mx-auto">
      <div class="mb-16">
        <span class="text-[10px] font-black tracking-[0.5em] uppercase mb-4 block" style="color: var(--text-secondary);">{subtitle}</span>
        <h2 class="text-5xl md:text-7xl font-black tracking-tighter leading-none">{headline}</h2>
      </div>
      <div class:list={['grid grid-cols-1 gap-12', columns.length === 3 ? 'md:grid-cols-3' : 'md:grid-cols-4']}>
        {columns.map((col) => (
          <div class="space-y-6">
            <h4 class="text-xs font-black uppercase tracking-widest pb-2 flex justify-between" style="border-bottom: 2px solid var(--text-primary);">
              <span>{col.title}</span>
              {col.number && <span style="color: var(--text-secondary);">{col.number}</span>}
            </h4>
            <ul class="space-y-4">
              {col.links.map((link) => (
                <li>
                  <a href={link.href} class="text-xl font-black tracking-tight flex items-center justify-between group" style="color: var(--text-primary);">
                    <span class="group-hover-accent-text transition-colors">{link.label}</span>
                    <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path>
                    </svg>
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </section>
) : (
  <section class="py-24 px-6 max-w-7xl mx-auto">
    <div class="mb-12">
      <span class="text-[10px] font-black tracking-[0.5em] uppercase mb-4 block" style="color: var(--text-secondary);">{subtitle}</span>
      <h2 class="text-4xl font-black tracking-tighter">{headline}</h2>
    </div>
    <div class:list={['grid grid-cols-1 gap-8', columns.length <= 3 ? 'md:grid-cols-3' : 'md:grid-cols-4']}>
      {columns.map((col) => (
        <div>
          <h5 class="text-3xl font-black tracking-tighter mb-6">{col.title}</h5>
          <ul class="space-y-3">
            {col.links.map((link) => (
              <li>
                <a href={link.href} class="text-sm font-bold flex items-center justify-between group hover-accent-text transition-colors" style="color: var(--text-secondary);">
                  <span>{link.label}</span>
                  <span class="opacity-0 group-hover:opacity-100 transition-opacity">→</span>
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>
  </section>
)}
