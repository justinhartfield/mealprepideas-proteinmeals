---
/**
 * FooterNav — Theme-aware System Directory Footer
 * Uses CSS custom properties for light/dark adaptation
 */
interface Props {
  site?: 'mealprepideas' | 'proteinmeals';
  brandName?: string;
  brandDescription?: string;
  columns?: {
    title: string;
    links: { href: string; label: string; active?: boolean }[];
  }[];
  copyrightSuffix?: string;
}

const mealprepColumns = [
  {
    title: 'Meal Prep',
    links: [
      { href: '/meal-prep/', label: 'Meal Prep Hub' },
      { href: '/meal-prep/plans/beginner-meal-prep-5-day/', label: '5-Day Plans' },
      { href: '/meal-prep/recipes/chicken-teriyaki-stir-fry/', label: 'Recipes' },
      { href: '/meal-prep/for/work/', label: 'Work Prep' },
    ],
  },
  {
    title: 'Stores & Chains',
    links: [
      { href: '/stores/trader-joes/', label: "Trader Joe's" },
      { href: '/stores/costco/', label: 'Costco' },
      { href: '/stores/walmart/', label: 'Walmart' },
      { href: '/stores/kroger/', label: 'Kroger' },
      { href: '/stores/aldi/', label: 'Aldi' },
    ],
  },
  {
    title: 'Popular',
    links: [
      { href: '/meal-prep/method/crockpot/', label: 'Crockpot Meals' },
      { href: '/meal-prep/method/air-fryer/', label: 'Air Fryer Prep' },
      { href: '/meal-prep/method/sheet-pan/', label: 'Sheet Pan Dinners' },
      { href: '/meal-prep/for/college/', label: 'College Budget' },
      { href: '/meal-prep/for/kids/', label: 'Kid-Friendly' },
    ],
  },
];

const proteinColumns = [
  {
    title: 'High Protein',
    links: [
      { href: '/high-protein/', label: 'High Protein Hub' },
      { href: '/high-protein/plans/high-protein-muscle-gain-5-day/', label: '5-Day Plans' },
      { href: '/high-protein/recipes/steak-and-egg-protein-plate/', label: 'Recipes' },
      { href: '/high-protein/goal/muscle-gain/', label: 'Muscle Gain' },
    ],
  },
  {
    title: 'Stores & Chains',
    links: [
      { href: '/stores/trader-joes/', label: "Trader Joe's" },
      { href: '/stores/costco/', label: 'Costco' },
      { href: '/stores/chick-fil-a/', label: 'Chick-fil-A' },
      { href: '/stores/chipotle/', label: 'Chipotle' },
      { href: '/stores/sweetgreen/', label: 'Sweetgreen' },
    ],
  },
  {
    title: 'Popular',
    links: [
      { href: '/high-protein/diet/keto/', label: 'Keto Protein' },
      { href: '/high-protein/diet/vegan/', label: 'Vegan Protein' },
      { href: '/high-protein/goal/weight-loss/', label: 'Weight Loss' },
      { href: '/high-protein/for/bariatric/', label: 'Bariatric' },
      { href: '/high-protein/for/postpartum/', label: 'Postpartum' },
    ],
  },
];

// Auto-detect site from the Astro site config URL
const siteUrl = Astro.site?.hostname || '';
const autoSite = siteUrl.includes('proteinmeals') ? 'proteinmeals' : 'mealprepideas';

const {
  site = autoSite,
  brandName = site === 'proteinmeals' ? 'PROTEINMEALS.CO' : 'MEALPREPIDEAS.CO',
  brandDescription = site === 'proteinmeals'
    ? 'Your authority guide to high-protein nutrition. Recipes, macros, store guides, and meal plans for muscle gain and weight management.'
    : 'Your authority guide to meal prep. Batch cooking, storage logistics, 5-day plans, and store guides for efficient weekly nutrition.',
  columns = site === 'proteinmeals' ? proteinColumns : mealprepColumns,
  copyrightSuffix = site === 'proteinmeals' ? 'ProteinMeals.co' : 'MealPrepIdeas.co',
} = Astro.props;
---

<footer class="py-20 px-6" style="background-color: var(--bg-primary); border-top: 1px solid var(--border-default);">
  <div class="max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-5 gap-12">
    <div class="col-span-2">
      <div class="flex items-center gap-2 mb-6 group cursor-pointer">
        <div class="w-3 h-3 rounded-full group-hover:scale-150 transition-transform" style="background-color: var(--accent-primary);"></div>
        <span class="text-xl font-black tracking-tighter italic" style="color: var(--text-primary);">{brandName}</span>
      </div>
      <p class="text-sm max-w-xs mb-8 leading-relaxed font-medium" style="color: var(--text-secondary);">{brandDescription}</p>
      <div class="flex space-x-4">
        {['IG', 'TW', 'YT'].map(label => (
          <div class="w-10 h-10 rounded flex items-center justify-center cursor-pointer font-black text-xs transition-all"
               style="border: 1px solid var(--border-default); color: var(--text-secondary);">
            {label}
          </div>
        ))}
      </div>
    </div>

    {columns.map((col) => (
      <div>
        <h6 class="text-[10px] font-black uppercase tracking-widest mb-6" style="color: var(--text-tertiary);">{col.title}</h6>
        <ul class="space-y-4 text-xs font-bold" style="color: var(--text-secondary);">
          {col.links.map((link) => (
            <li>
              <a href={link.href}
                 class="transition-colors"
                 style={link.active ? `color: var(--accent-primary);` : ''}>
                {link.label}
              </a>
            </li>
          ))}
        </ul>
      </div>
    ))}
  </div>

  <div class="max-w-7xl mx-auto mt-20 pt-8 flex flex-col md:flex-row justify-between items-center gap-4"
       style="border-top: 1px solid var(--border-default);">
    <span class="text-[10px] font-bold uppercase tracking-widest" style="color: var(--text-tertiary);">© 2026 {copyrightSuffix}</span>
    <div class="flex gap-8">
      {[
        { label: 'Privacy', href: '/privacy/' },
        { label: 'Terms', href: '/terms/' },
        { label: 'Sitemap', href: '/sitemap-index.xml' },
      ].map(item => (
        <a href={item.href} class="text-[10px] font-bold uppercase tracking-widest transition-colors" style="color: var(--text-tertiary);">{item.label}</a>
      ))}
    </div>
  </div>
</footer>
