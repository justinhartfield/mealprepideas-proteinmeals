---
/**
 * proteinmeals.co/stores/[slug] — REDIRECT to canonical /high-protein/store/ or /high-protein/chain/
 */
import { stores } from '@mealprepideas/shared/data/content/stores';

export function getStaticPaths() {
  return stores.map(store => ({
    params: { slug: store.slug },
    props: { store },
  }));
}

const { store } = Astro.props;
const facetType = store.type === 'grocery' ? 'store' : 'chain';
const redirectPath = `/high-protein/${facetType}/${store.slug}/`;
const canonicalUrl = `https://proteinmeals.co${redirectPath}`;
---
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="robots" content="noindex, follow" />
  <link rel="canonical" href={canonicalUrl} />
  <meta http-equiv="refresh" content={`0;url=${redirectPath}`} />
  <title>Redirecting…</title>
</head>
<body>
  <p>Redirecting to <a href={redirectPath}>{redirectPath}</a>…</p>
</body>
</html>
