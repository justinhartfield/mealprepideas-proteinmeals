---
/**
 * proteinmeals.co/high-protein/for/[slug] — REDIRECT to canonical /high-protein/persona/[slug]/
 */
import { facets } from '@mealprepideas/shared/data/taxonomy';

export function getStaticPaths() {
  return facets.persona.values.map(persona => ({
    params: { slug: persona },
    props: { persona },
  }));
}

const { persona } = Astro.props;
const canonicalUrl = `https://proteinmeals.co/high-protein/persona/${persona}/`;
const redirectPath = `/high-protein/persona/${persona}/`;
---
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="robots" content="noindex, follow" />
  <link rel="canonical" href={canonicalUrl} />
  <meta http-equiv="refresh" content={`0;url=${redirectPath}`} />
  <title>Redirecting…</title>
</head>
<body>
  <p>Redirecting to <a href={redirectPath}>{redirectPath}</a>…</p>
</body>
</html>
